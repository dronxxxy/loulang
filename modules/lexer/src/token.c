#include "lou/lexer/token.h"
#include <stdio.h>

#define WRITE_TOKEN(NAME) \
    case LOU_TOKEN_##NAME: \
      fputs(#NAME, stream); \
      return; \

void lou_token_write(const lou_token_t *token, FILE *stream) {
  switch (token->kind) {
    WRITE_TOKEN(OPENING_CIRCLE_BRACE);
    WRITE_TOKEN(CLOSING_CIRCLE_BRACE);
    WRITE_TOKEN(OPENING_FIGURE_BRACE);
    WRITE_TOKEN(CLOSING_FIGURE_BRACE);
    WRITE_TOKEN(OPENING_SQUARE_BRACE);
    WRITE_TOKEN(CLOSING_SQUARE_BRACE);
    WRITE_TOKEN(EQUALS);
    WRITE_TOKEN(NOT_EQUALS);
    WRITE_TOKEN(GREATER);
    WRITE_TOKEN(LESS);
    WRITE_TOKEN(GREATER_OR_EQUALS);
    WRITE_TOKEN(LESS_OR_EQUALS);
    WRITE_TOKEN(COLON);
    WRITE_TOKEN(EXCLAMATION);
    WRITE_TOKEN(FUNCTION_RETURNS);
    WRITE_TOKEN(ASSIGN);
    WRITE_TOKEN(COMMA);
    WRITE_TOKEN(DOT);
    WRITE_TOKEN(MINUS);
    WRITE_TOKEN(PLUS);
    WRITE_TOKEN(SEMICOLON);
    WRITE_TOKEN(STAR);
    WRITE_TOKEN(SLASH);
    WRITE_TOKEN(PERCENT);
    WRITE_TOKEN(PLUS_ASSIGN);
    WRITE_TOKEN(MINUS_ASSIGN);
    WRITE_TOKEN(STAR_ASSIGN);
    WRITE_TOKEN(SLASH_ASSIGN);
    WRITE_TOKEN(PERCENT_ASSIGN);
    WRITE_TOKEN(FUN);
    WRITE_TOKEN(PUBLIC);
    WRITE_TOKEN(META);
    WRITE_TOKEN(CONST);
    WRITE_TOKEN(FINAL);
    WRITE_TOKEN(VAR);
    WRITE_TOKEN(RETURN);
    WRITE_TOKEN(IF);
    WRITE_TOKEN(ELSE);
    WRITE_TOKEN(WHILE);
    WRITE_TOKEN(IDENT);
    WRITE_TOKEN(STRING);
    WRITE_TOKEN(CHAR);
    WRITE_TOKEN(INTEGER);
    WRITE_TOKEN(EOI);
    WRITE_TOKEN(FAILED);
  }
  fputs("(invalid)", stream);
}

